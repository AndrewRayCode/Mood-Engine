<html>
    <head>
        <title>Mood Engine</title>
        <script type="text/javascript" src="http://www.x3dom.org/download/x3dom.js"> </script>
        <link rel="stylesheet" type="text/css" href="http://www.x3dom.org/download/x3dom.css"></link>
        <link rel="stylesheet" type="text/css" href="css/main.css"/>
    </head>
    <body>

        <x3d style="width:100%; height:100%; border:0; margin:0; padding:0;" id="x3d">
            <scene>

                <viewpoint id='vpp' DEF='vp'
                    description='Mood Engine'
                    centerOfRotation='3.4625 1.73998 -5.55'
                    orientation='0 1 0 2.99229' position='0.0 0.0 -200'
                    zNear="0.001" zFar="8000"></viewpoint>

                <group id='root'>
                    <group DEF='theScene'>
                        <navigationInfo id="head" headlight='true' type='"EXAMINE"'></navigationInfo>
                        <background  skyColor="0 0 0"></background>

                        <PointLight
                            id='point'
                            on='TRUE'
                            intensity='0.9000'
                            color="1 1 1"
                            shadowMapSize='1024'
                            shadowIntensity='1.0'
                            shadowFilterSize="32"
                            location="0 0 0"
                            radius='800'></PointLight>

                        <!-- Nest -->
                        <Transform scale="2.0 2.0 2.0">
                            <inline url="./assets/scaffold.x3d"></inline>
                        </Transform>

                        <!-- Charms -->
                        <inline url="./assets/octStarW8R30.x3d"></inline>
                        <inline url="./assets/circleW5R20.x3d"></inline>

                        <Transform translation="0 -200 0" rotation="1 0 0 -1.57">
                            <Shape>
                                <Appearance><Material diffuseColor="0.7 0.7 0.7"></Material></Appearance>
                                <Plane solid="false" size="200 200"></Plane>
                            </Shape>
                        </Transform>

                        <Transform translation="0 200 0" rotation="1 0 0 -1.57">
                            <Shape>
                                <Appearance><Material diffuseColor="0.7 0.7 0.7"></Material></Appearance>
                                <Plane solid="false" size="200 200"></Plane>
                            </Shape>
                        </Transform>

                        <Viewpoint
                            position="2.44723 13.11743 38.56844"
                            orientation="-0.99727 0.07070 -0.02151 0.42839"></Viewpoint>
                </group>
            </group>

 <Transform DEF='matTrans' scale="20.0 20.0 20.0">
            <Shape DEF='aNode'>
              <IndexedFaceSet solid="false" coordIndex='0 1 2 3 -1'>
                <Coordinate point='-4 -4 0, 4 -4 0, 4 4 0, -4 4 0'></Coordinate>
                <TextureCoordinate point='0 1, 1 1, 1 0, 0 0'></TextureCoordinate><!-- y flipped -->
              </IndexedFaceSet>
              <Appearance DEF='rtApp'>
                <RenderedTexture DEF='FBO' update='always' dimensions='512 512 4'>
                  <Shape USE='aNode' containerField='excludeNodes' ></Shape>
                  <Background USE='back' containerField='background' ></Background>
                  <Viewpoint USE='vp'></Viewpoint>
                  <textureProperties boundaryModeS='CLAMP_TO_EDGE' boundaryModeT='CLAMP_TO_EDGE'
                                   magnificationFilter='LINEAR' minificationFilter='LINEAR_MIPMAP_LINEAR'
                                   generateMipMaps='true' id='texProps'>
                  </textureProperties>
                </RenderedTexture>
              </Appearance>
            </Shape>
          </Transform>

            </scene>
        </x3d>


        <script src="js/mousetrap.min.js"></script>
        <script src="js/main.js"></script>

    </body>
</html>
